"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.makeIDBAvailable = makeIDBAvailable;
var _FDBFactory = _interopRequireDefault(require("./FDBFactory.js"));
var _FDBCursor = _interopRequireDefault(require("./FDBCursor.js"));
var _FDBCursorWithValue = _interopRequireDefault(require("./FDBCursorWithValue.js"));
var _FDBDatabase = _interopRequireDefault(require("./FDBDatabase.js"));
var _FDBIndex = _interopRequireDefault(require("./FDBIndex.js"));
var _FDBKeyRange = _interopRequireDefault(require("./FDBKeyRange.js"));
var _FDBObjectStore = _interopRequireDefault(require("./FDBObjectStore.js"));
var _FDBOpenDBRequest = _interopRequireDefault(require("./FDBOpenDBRequest.js"));
var _FDBRequest = _interopRequireDefault(require("./FDBRequest.js"));
var _FDBTransaction = _interopRequireDefault(require("./FDBTransaction.js"));
var _FDBVersionChangeEvent = _interopRequireDefault(require("./FDBVersionChangeEvent.js"));
var _index = require("../structuredClone/index.js");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
let idbAvailable = false;
function makeIDBAvailable() {
  if (idbAvailable) {
    return;
  }
  if (!global.window) {
    global.window = {};
  }
  if (!window.indexedDB) {
    (0, _index.makeStructuredCloneAvailable)();
    window.indexedDB = new _FDBFactory.default();
    window.IDBCursor = _FDBCursor.default;
    window.IDBCursorWithValue = _FDBCursorWithValue.default;
    window.IDBDatabase = _FDBDatabase.default;
    window.IDBFactory = _FDBFactory.default;
    window.IDBIndex = _FDBIndex.default;
    window.IDBKeyRange = _FDBKeyRange.default;
    window.IDBObjectStore = _FDBObjectStore.default;
    window.IDBOpenDBRequest = _FDBOpenDBRequest.default;
    window.IDBRequest = _FDBRequest.default;
    window.IDBTransaction = _FDBTransaction.default;
    window.IDBVersionChangeEvent = _FDBVersionChangeEvent.default;
  }
  idbAvailable = true;
}
//# sourceMappingURL=index.js.map