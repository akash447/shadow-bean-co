{"version":3,"names":["_FDBCursor","_interopRequireDefault","require","_FDBCursorWithValue","_FDBKeyRange","_FDBRequest","_enforceRange","_errors","_FakeDOMStringList","_valueToKey","_valueToKeyRange","e","__esModule","default","confirmActiveTransaction","index","_rawIndex","deleted","objectStore","_rawObjectStore","InvalidStateError","transaction","_state","TransactionInactiveError","FDBIndex","constructor","rawIndex","_name","name","keyPath","multiEntry","unique","db","_runningVersionchangeTransaction","String","indexNames","contains","ConstraintError","oldName","oldIndexNames","_indexesCache","delete","set","rawIndexes","FakeDOMStringList","Array","from","keys","filter","indexName","get","sort","_rollbackLog","push","openCursor","range","direction","undefined","FDBKeyRange","only","valueToKey","request","FDBRequest","source","cursor","FDBCursorWithValue","_execRequestAsync","operation","_iterate","bind","openKeyCursor","FDBCursor","key","getValue","getAll","query","count","arguments","length","enforceRange","valueToKeyRange","getAllValues","getKey","getAllKeys","toString","_default","exports"],"sourceRoot":"../../../../../lib","sources":["internal/web/memidb/FDBIndex.js"],"mappings":"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","ignoreList":[]}
