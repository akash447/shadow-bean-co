{"version":3,"names":["_errors","require","_extractKey","_interopRequireDefault","_RecordStore","_valueToKey","e","__esModule","default","Index","deleted","initialized","records","RecordStore","constructor","rawObjectStore","name","keyPath","multiEntry","unique","getKey","key","record","get","undefined","value","getAllKeys","range","count","Infinity","values","push","structuredClone","length","getValue","getAllValues","storeRecord","newRecord","indexKey","extractKey","err","Array","isArray","valueToKey","_","keep","part","indexOf","existingRecord","ConstraintError","individualIndexKey","add","initialize","transaction","Error","_execRequestAsync","operation","_abort","source","_default","exports"],"sourceRoot":"../../../../../../lib","sources":["internal/web/memidb/lib/Index.js"],"mappings":"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","ignoreList":[]}
